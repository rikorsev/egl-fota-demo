#include "egl_lib.h"

__attribute__((section(".info"))) static const egl_plat_info_t plat_info_inst =
{
    .magic            = @CONFIG_PLAT_INFO_MAGIC_VALUE@,
    .size             = 0, /* The value will be written directly to binary */
    .checksum         = 0, /* The value will be written directly to binary */
    .name             = "@CMAKE_PROJECT_NAME@",
    .buildtime        = "@PLAT_BUILD_TIME@",
    .version.major    = @CONFIG_APP_VERSION_MAJOR@,
    .version.minor    = @CONFIG_APP_VERSION_MINOR@,
    .version.revision = @CONFIG_APP_VERSION_REVISION@,
    .version.sufix    = "@CONFIG_APP_VERSION_SUFIX@",
    .git.branch       = "@PLAT_GIT_BRANCH@",
    .git.commit       = "@PLAT_GIT_HASH@"
};

const egl_plat_info_t *plat_info_inst_get(void)
{
    return &plat_info_inst;
}

__attribute__((section(".info"))) static const  uint32_t plat_info_slot_table[] = 
{
    @CONFIG_PLAT_SLOT_BOOT_ADDR@,
    @CONFIG_PLAT_SLOT_A_ADDR@,
    @CONFIG_PLAT_SLOT_B_ADDR@,
};

const uint32_t plat_info_slot_addr_get(unsigned int slot_idx)
{
    if(slot_idx >= sizeof(plat_info_slot_table)/sizeof(plat_info_slot_table[0]))
    {
        return 0;
    }

    return plat_info_slot_table[slot_idx];
}
